/* write a function to decrypt string from “51Pa*0Lp*0e” to “aP1pL5e”.

this is solution of decryption 
1.Initially i=0.
2.if s[i] is lowercase and the next character s[i+1] is uppercase, swap them , add a ‘*’ after them,and move to i+2.
3.if s[i] is a number,replace it with 0,place the original number at the start, and move to i+1.
4.else, move to i+1.
5.stop if i is more than or equal to the string length. Otherwise, goto step2.

the input or encrypted string =“43Ah*cK0rr0nK” and the output or decrypted string should be"hAcK3rr4nK"*/


function deEncrypted (s){
  let pass = s.split(""); // put each char in array for using splice and slice easily
  let numArr = pass.filter((string) => Number(string)>0 ); //take numbers that contain in original pass
  pass = pass.slice(numArr.length); // no need original number because store it at numStr so cut it of from encrypted password ( all number will be at the front as the rule of encryption)
  if(pass.indexOf("0")) { // replace all zero with numbers from NumStr
    replaceZero(pass,numArr);
  }
  if (pass.indexOf("*")) { // replace "*" with condition string 
    replaceStar(pass);
  } return pass.join(""); // join them back
}


function replaceZero (arr, numArr) {
  let counter = numArr.length-1; // because original number get in encrypt as stack (first in last out >> last index of number obtain the position of first index of "0")
  for( let i = 0; i < arr.length; i++) {
    if ( arr[i] === "0") {
      arr[i] = numArr[counter];
      counter--;
    }
  } return arr;
}

function replaceStar (arr) {
  for ( let i = 0; i < arr.length; i++ ) {
    if(arr.indexOf("*") !== -1) {
      let index = arr.indexOf("*"); 
      let temp = arr[index-1]; // need temp to store one value while exchange value between index
      arr[index-1] = arr[index-2];
      arr[index-2] = temp;
      arr.splice(index,1);
    }
  } return arr;
}

 console.log(deEncrypted("51Pa*0Lp*0e"));
